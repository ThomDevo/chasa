<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="fr"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:jsp="http://java.sun.com/JSP/Page"
      xmlns:f="http://java.sun.com/jsf/core">

<!-- ______ ______ -->

<div class="containerFlex">

    <!-- execute methode in loading page. -->
    <f:metadata>
        <f:event type="preRenderView" listener="#{i18nBean.loadLanguagePage}"/>
    </f:metadata>

    <div id="LogoSpace">


            <h:form id="headerLanguageButtonContainer">
                <p:menuButton value="#{I18N['header.language']}" class="headerLanguageButton ui-button-primary" iconPos="right">

                    <p:menuitem value="#{I18N['header.language.fr']}" action="#{i18nBean.changeLanguage('fr','headerLanguageButtonContainer')}"/>
                    <p:menuitem value="#{I18N['header.language.en']}" action="#{i18nBean.changeLanguage('en','headerLanguageButtonContainer')}"/>

                </p:menuButton>
            </h:form>

                <p:linkButton outcome="/VIEW/home.xhtml" value="#{I18N['logo.title']}" style="margin-right:20px;">
                </p:linkButton>

    </div>



        <div class="card">
            <h:form>
                <p:growl id="messages"/>
                <p:menubar>
                    <p:submenu label="#{I18N['menu.data.users']}" icon="pi pi-fw pi-user">
                        <p:submenu label="#{I18N['menu.own.data.users']}" icon="pi pi-fw pi-user">
                            <p:menuitem value="#{I18N['menu.own.data.users.consult']}" icon="pi pi-fw pi-user" action="/VIEW/ConsultOwnData.xhtml" rendered="#{connectionBean.verifyPermissionUser('Consulter mes données')}"/>
                            <p:menuitem value="#{I18N['menu.data.member.add']}" icon="pi pi-fw pi-user-plus" action="/VIEW/addMember.xhtml" rendered="#{connectionBean.verifyPermissionUser('Créer un membre')}"/>
                            <p:menuitem value="#{I18N['menu.data.member.consult']}" icon="pi pi-fw pi-user" action="/VIEW/listOfMembers.xhtml" rendered="#{connectionBean.verifyPermissionUser('Afficher la liste des membres')}"/>
                            <p:menuitem value="#{I18N['menu.data.instructor.add']}" icon="pi pi-fw pi-user-plus" action="/VIEW/addUser.xhtml" rendered="#{connectionBean.verifyPermissionUser('Ajouter un nouvel utilisateur')}"/>
                            <p:menuitem value="#{I18N['menu.data.instructor.consult']}" icon="pi pi-fw pi-user" action="/VIEW/listOfUsers.xhtml" rendered="#{connectionBean.verifyPermissionUser('Afficher la liste des utilisateurs')}"/>
                        </p:submenu>
                        <p:divider/>
                        <p:submenu label="#{I18N['menu.data.user.certificate']}" icon="pi pi-fw pi-star">
                            <p:menuitem value="#{I18N['menu.own.certificate.users']}" icon="pi pi-fw pi-star" action="/VIEW/consultMyLicense.xhtml" rendered="#{connectionBean.verifyPermissionUser('Consulter mes données')}"/>
                            <p:menuitem value="#{I18N['menu.own.data.certificate.add']}" icon="pi pi-fw pi-plus" action="/VIEW/addLicenseMember.xhtml" rendered="#{connectionBean.verifyPermissionUser('Ajouter un brevet à un membre')}"/>
                            <p:menuitem value="#{I18N['menu.data.certificate.list']}" icon="pi pi-fw pi-star" action="/VIEW/listofMembersLicense.xhtml" rendered="#{connectionBean.verifyPermissionUser('Afficher la liste des brevets des membres')}"/>
                            <p:menuitem value="#{I18N['menu.own.data.certificate.add']}" icon="pi pi-fw pi-plus" action="/VIEW/addLicenseUser.xhtml" rendered="#{connectionBean.verifyPermissionUser('Ajouter un brevet pour un utilisateur')}"/>
                            <p:menuitem value="#{I18N['menu.data.certificate.list']}" icon="pi pi-fw pi-star" action="/VIEW/listofUsersLicense.xhtml" rendered="#{connectionBean.verifyPermissionUser('Afficher la liste des brevets des utilisateurs')}"/>
                        </p:submenu>
                        <p:divider/>
                        <p:submenu label="#{I18N['menu.data.user.medical']}" icon="pi pi-fw pi-heart-fill">
                            <p:menuitem value="#{I18N['menu.data.user.medical.mine']}" icon="pi pi-fw pi-heart" action="/VIEW/consultMyMedicalCertificate.xhtml" rendered="#{connectionBean.verifyPermissionUser('Consulter mes données')}"/>
                            <p:menuitem value="#{I18N['menu.data.user.medical.membre.add']}" icon="pi pi-fw pi-plus" action="/VIEW/addMedicalCertificateMember.xhtml" rendered="#{connectionBean.verifyPermissionUser('Ajouter un certificat médical pour un membre')}"/>
                            <p:menuitem value="#{I18N['menu.data.user.medical.membre.list']}" icon="pi pi-fw pi-heart-fill" action="/VIEW/listMedicalCertificateMember.xhtml" rendered="#{connectionBean.verifyPermissionUser('Afficher la liste des certificats médicaux des membres')}"/>
                            <p:menuitem value="#{I18N['menu.data.user.medical.instructor.add']}" icon="pi pi-fw pi-plus" action="/VIEW/addMedicalCertificateUser.xhtml" rendered="#{connectionBean.verifyPermissionUser('Ajouter un certificat médical pour un utilisateur')}"/>
                            <p:menuitem value="#{I18N['menu.data.user.medical.instructor.list']}" icon="pi pi-fw pi-heart-fill" action="/VIEW/listMedicalCertificateUser.xhtml" rendered="#{connectionBean.verifyPermissionUser('Afficher le liste des certificats médicaux des utilisateurs')}"/>
                        </p:submenu>
                    </p:submenu>
                    <p:divider layout="vertical"/>
                    <p:submenu label="#{I18N['menu.events']}" icon="pi pi-fw pi-calendar">
                        <p:submenu label="#{I18N['menu.data.events']}" icon="pi pi-fw pi-calendar">
                            <p:menuitem value="#{I18N['menu.data.events.add']}" icon="pi pi-fw pi-calendar-plus" action="/VIEW/addEvent.xhtml" rendered="#{connectionBean.verifyPermissionUser('Créer un événement')}"/>
                            <p:menuitem value="#{I18N['menu.data.events.modify']}" icon="pi pi-fw pi-calendar" action="/VIEW/listOfEvents.xhtml" rendered="#{connectionBean.verifyPermissionUser('Modifier un événement')}"/>
                        </p:submenu>
                        <p:divider />
                        <p:menuitem value="#{I18N['menu.data.events.participate']}" icon="pi pi-fw pi-calendar-plus" action="/VIEW/listOfMyPotentialEvent.xhtml" rendered="#{connectionBean.verifyPermissionUser('Ma participation aux événements')}"/>
                        <p:menuitem value="#{I18N['menu.data.events.myParticipation']}" icon="pi pi-fw pi-calendar" action="/VIEW/myPlanning.xhtml" rendered="#{connectionBean.verifyPermissionUser('Mon planning')}"/>
                        <p:menuitem value="#{I18N['event.countUser']}" icon="pi pi-fw pi-calendar" action="/VIEW/listOfUserEvents.xhtml" rendered="#{connectionBean.verifyPermissionUser('Consulter la liste des participants par évènement')}"/>
                    </p:submenu>
                    <p:submenu label="#{I18N['menu.chasa']}" icon="pi pi-fw pi-wrench" rendered="#{connectionBean.verifyPermissionUser('Ajouter un rôle')}">
                        <p:submenu label="#{I18N['menu.chasa']}" icon="pi pi-fw pi-wrench">
                            <p:menuitem value="#{I18N['menu.chasa.role.add']}" icon="pi pi-fw pi-user-plus" action="/VIEW/addRole.xhtml" rendered="#{connectionBean.verifyPermissionUser('Ajouter un rôle')}"/>
                            <p:menuitem value="#{I18N['menu.chasa.role.consult']}" icon="pi pi-fw pi-users" action="/VIEW/listOfRoles.xhtml" rendered="#{connectionBean.verifyPermissionUser('Afficher la liste des rôles')}"/>
                            <p:menuitem value="#{I18N['menu.chasa.rolePermission.add']}" icon="pi pi-fw pi-user-plus" action="/VIEW/addRolePermissions.xhtml" rendered="#{connectionBean.verifyPermissionUser('Ajouter une liste de permission pour un rôle')}"/>
                            <p:menuitem value="#{I18N['menu.chasa.rolePermission.modify']}" icon="pi pi-fw pi-wrench" action="/VIEW/listOfrolePermission.xhtml" rendered="#{connectionBean.verifyPermissionUser('Liste des permissions pour un rôle')}"/>
                        </p:submenu>
                    </p:submenu>

                    <f:facet name="options">
                        <p:commandButton value="Logout"  action="#{connectionBean.logOut}" icon="pi pi-fw pi-sign-out" styleClass="ui-button-info"/>
                    </f:facet>
                </p:menubar>
            </h:form>
        </div>


</div>


</html>
